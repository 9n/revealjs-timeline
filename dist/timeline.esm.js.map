{"mappings":"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","sources":["src/timeline.js"],"sourcesContent":["const Plugin = () => {\n  const disabledClass = \"disabled\";\n  const scrolling = 280;\n\n  // SET EQUAL HEIGHTS\n  function setEqualHeights(el) {\n    let counter = 0;\n    for (let i = 0; i < el.length; i++) {\n      const singleHeight = parseInt(\n        window.getComputedStyle(el[i]).getPropertyValue(\"height\")\n      );\n\n      if (counter < singleHeight) {\n        counter = singleHeight;\n      }\n    }\n\n    for (let i = 0; i < el.length; i++) {\n      el[i].style.height = `${counter}px`;\n    }\n  }\n\n  // CHECK IF AN ELEMENT IS IN VIEWPORT\n  function isElementInViewport(el) {\n    const pRect = document.querySelector(\".slides\").getBoundingClientRect();\n    const rect = el.getBoundingClientRect();\n    return rect.left >= pRect.left && rect.right <= pRect.right;\n  }\n\n  // SET STATE OF PREV/NEXT ARROWS\n  function setBtnState(el, flag = true) {\n    if (flag) {\n      el.classList.add(disabledClass);\n    } else {\n      if (el.classList.contains(disabledClass)) {\n        el.classList.remove(disabledClass);\n      }\n      el.disabled = false;\n    }\n  }\n\n  // ANIMATE TIMELINE\n  function animateTl(arrows, tl) {\n    const firstItem = tl.querySelector(\"li:first-child\"),\n      lastItem = tl.querySelector(\"li:last-child\"),\n      el = arrows.querySelectorAll(\".arrow\"),\n      arrowPrev = arrows.querySelector(\".arrow__prev\"),\n      arrowNext = arrows.querySelector(\".arrow__next\");\n    let counter = 0;\n    for (let i = 0; i < el.length; i++) {\n      el[i].addEventListener(\"click\", function () {\n        if (!arrowPrev.disabled) {\n          arrowPrev.disabled = true;\n        }\n        if (!arrowNext.disabled) {\n          arrowNext.disabled = true;\n        }\n        const sign = this.classList.contains(\"arrow__prev\") ? \"\" : \"-\";\n        if (counter === 0) {\n          tl.style.transform = `translateX(-${scrolling}px)`;\n        } else {\n          const tlStyle = getComputedStyle(tl);\n          // add more browser prefixes if needed here\n          const tlTransform =\n            tlStyle.getPropertyValue(\"-webkit-transform\") ||\n            tlStyle.getPropertyValue(\"transform\");\n          const values =\n            parseInt(tlTransform.split(\",\")[4]) +\n            parseInt(`${sign}${scrolling}`);\n          tl.style.transform = `translateX(${values}px)`;\n        }\n\n        setTimeout(() => {\n          isElementInViewport(firstItem)\n            ? setBtnState(arrowPrev)\n            : setBtnState(arrowPrev, false);\n          isElementInViewport(lastItem)\n            ? setBtnState(arrowNext)\n            : setBtnState(arrowNext, false);\n        }, 1100);\n\n        counter++;\n      });\n    }\n  }\n\n  return {\n    id: \"timeline\",\n    init: function (reveal) {\n      reveal.on(\"slidechanged\", (event) => {\n        const element = event.currentSlide;\n        if (\n          element.classList.contains(\"timeline\") &&\n          !element.dataset.isTlInited\n        ) {\n          const timeline = element.querySelector(\".timeline ol\"),\n            elH = element.querySelectorAll(\".timeline li > div\"),\n            arrows = element.querySelector(\".timeline .arrows\");\n          setEqualHeights(elH);\n          element.dataset.isTlInited = true;\n          animateTl(arrows, timeline);\n        }\n      });\n    },\n  };\n};\n\nexport default Plugin;\n"],"names":[],"version":3,"file":"timeline.esm.js.map"}